function init()
	pStart = mgGetBool("start", true)
	pEnd = mgGetBool("end", true)
	
	mgMusic("25")
	mgFogColor(1.0, 1.0, 1.0, 0.8, 0.7, 0.6)
	
	confSegment("randoms", 1)
	
	l = 0
	
	if pStart then
		l = l + mgSegment("basic/basic/start", -l)	
	end
	
	while l < 140 do
		s = nextSegment()
		l = l + mgSegment(s, -l)	
	end
	
	if pEnd then 
		l = l + mgSegment("basic/basic/door", -l)	
	end
	
	gt = mgRandFloat()
	
	mgLength(l)
end

function tick()
	gt = gt + 0.004
	
	gFog = {1.0, 1.0, 1.0, 0.8, 0.8, 0.8}
	
	mgFogColor(gFog[1], gFog[2], gFog[3], 
		math.sin(gt) * gFog[4], math.cos(gt) * gFog[5], math.sin(gt + 0.5) * gFog[6])
end
